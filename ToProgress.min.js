!function(s){function t(){var s,t=document.createElement("fakeelement"),o={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(s in o)if(void 0!==t.style[s])return o[s]}var o=t();s.ToProgress=function(s,t){var i=this;if(this.progress=0,this.options={id:"top-progress-bar",color:"#F44336",height:"2px",duration:.2},s&&"object"==typeof s)for(var r in s)this.options[r]=s[r];if(this.options.opacityDuration=3*this.options.duration,this.progressBar=document.createElement("div"),o&&this.progressBar.addEventListener(o,function(){i.progress=0}),this.progressBar.id=this.options.id,this.progressBar.setCSS=function(s){for(var t in s)this.style[t]=s[t]},this.progressBar.setCSS({position:t?"absolute":"fixed",top:"0",left:"0",right:"0","background-color":this.options.color,height:this.options.height,width:"0%","-webkit-transition":"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s"}),t){var e=document.querySelector(t);e&&(e.style.position&&"initial"!=e.style.position||(e.style.position="absolute"),e.hasChildNodes()?e.insertBefore(this.progressBar,e.firstChild):e.appendChild(this.progressBar))}else document.body.appendChild(this.progressBar)},ToProgress.prototype.transit=function(){this.progressBar.style.width=this.progress+"%"},ToProgress.prototype.getProgress=function(){return this.progress},ToProgress.prototype.setProgress=function(s,t){this.show(),this.progress=s>100?100:0>s?0:s,this.transit(),t&&t()},ToProgress.prototype.increase=function(s,t){this.show(),this.setProgress(this.progress+s,t)},ToProgress.prototype.decrease=function(s,t){this.show(),this.setProgress(this.progress-s,t)},ToProgress.prototype.finish=function(s){this.setProgress(100,s),this.hide()},ToProgress.prototype.hide=function(){this.progressBar.style.opacity="0"},ToProgress.prototype.show=function(){this.progressBar.style.opacity="1"}}(window);